{"version":3,"sources":["../src/utils.js"],"names":["renderElement","renderer","props","React","isValidElement","cloneElement","prototype","isReactComponent","createElement","defaultProps","normalizeColumns","elements","columns","Children","forEach","element","key","column","push","isObjectEqual","objA","objB","ignoreFunction","keysA","Object","keys","keysB","length","i","$$typeof","valueA","valueB","valueAType","callOrReturn","funcOrValue","args","hasChildren","data","Array","isArray","children","unflatten","array","rootId","dataKey","parentKey","tree","childrenMap","item","id","parentId","concat","undefined","flattenOnKeys","depthMap","keysSet","Set","x","add","stack","shift","has","cloneArray","noop","toString","value","getPathSegments","path","pathArray","split","parts","p","slice","getValue","object","defaultValue","propertyIsEnumerable","call","debounce","fn","ms","timeoutId","clearTimeout","setTimeout","apply","throttle","wait","inThrottle","lastFn","lastTime","context","arguments","Date","now","Math","max","scrollbarSize","getScrollbarSize","recalculate","window","document","scrollDiv","style","position","top","width","height","overflow","body","appendChild","offsetWidth","clientWidth","removeChild","addClassName","el","className","classList","match","RegExp","removeClassName","remove","replace"],"mappings":"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","sourcesContent":["import React from 'react';\n\nexport function renderElement(renderer, props) {\n  if (React.isValidElement(renderer)) {\n    if (!props) return renderer;\n    return React.cloneElement(renderer, props);\n  } else if (typeof renderer === 'function') {\n    if (renderer.prototype && renderer.prototype.isReactComponent) {\n      return React.createElement(renderer, props);\n    } else if (renderer.defaultProps) {\n      return renderer({ ...renderer.defaultProps, ...props });\n    }\n    return renderer(props);\n  } else {\n    return null;\n  }\n}\n\nexport function normalizeColumns(elements) {\n  const columns = [];\n  React.Children.forEach(elements, element => {\n    if (React.isValidElement(element) && element.key) {\n      const column = { ...element.props, key: element.key };\n      columns.push(column);\n    }\n  });\n  return columns;\n}\n\nexport function isObjectEqual(objA, objB, ignoreFunction = true) {\n  if (objA === objB) return true;\n  if (objA === null && objB === null) return true;\n  if (objA === null || objB === null) return false;\n  if (typeof objA !== 'object' || typeof objB !== 'object') return false;\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return false;\n\n  for (let i = 0; i < keysA.length; i++) {\n    const key = keysA[i];\n\n    if (key === '_owner' && objA.$$typeof) {\n      // React-specific: avoid traversing React elements' _owner.\n      //  _owner contains circular references\n      // and is not needed when comparing the actual elements (and not their owners)\n      continue;\n    }\n\n    const valueA = objA[key];\n    const valueB = objB[key];\n    const valueAType = typeof valueA;\n\n    if (valueAType !== typeof valueB) return false;\n    if (valueAType === 'function' && ignoreFunction) continue;\n    if (valueAType === 'object') {\n      if (!isObjectEqual(valueA, valueB, ignoreFunction)) return false;\n      else continue;\n    }\n    if (valueA !== valueB) return false;\n  }\n  return true;\n}\n\nexport function callOrReturn(funcOrValue, ...args) {\n  return typeof funcOrValue === 'function' ? funcOrValue(...args) : funcOrValue;\n}\n\nexport function hasChildren(data) {\n  return Array.isArray(data.children) && data.children.length > 0;\n}\n\nexport function unflatten(array, rootId = null, dataKey = 'id', parentKey = 'parentId') {\n  const tree = [];\n  const childrenMap = {};\n\n  const length = array.length;\n  for (let i = 0; i < length; i++) {\n    const item = { ...array[i] };\n    const id = item[dataKey];\n    const parentId = item[parentKey];\n\n    if (Array.isArray(item.children)) {\n      childrenMap[id] = item.children.concat(childrenMap[id] || []);\n    } else if (!childrenMap[id]) {\n      childrenMap[id] = [];\n    }\n    item.children = childrenMap[id];\n\n    if (parentId !== undefined && parentId !== rootId) {\n      if (!childrenMap[parentId]) childrenMap[parentId] = [];\n      childrenMap[parentId].push(item);\n    } else {\n      tree.push(item);\n    }\n  }\n\n  return tree;\n}\n\nexport function flattenOnKeys(tree, keys, depthMap = {}, dataKey = 'id') {\n  if (!keys || !keys.length) return tree;\n\n  const array = [];\n  const keysSet = new Set();\n  keys.forEach(x => keysSet.add(x));\n\n  let stack = [].concat(tree);\n  stack.forEach(x => (depthMap[x[dataKey]] = 0));\n  while (stack.length > 0) {\n    const item = stack.shift();\n\n    array.push(item);\n    if (keysSet.has(item[dataKey]) && Array.isArray(item.children) && item.children.length > 0) {\n      stack = [].concat(item.children, stack);\n      item.children.forEach(x => (depthMap[x[dataKey]] = depthMap[item[dataKey]] + 1));\n    }\n  }\n\n  return array;\n}\n\n// Babel7 changed the behavior of @babel/plugin-transform-spread in https://github.com/babel/babel/pull/6763\n// [...array] is transpiled to array.concat() while it was [].concat(array) before\n// this change breaks immutable array(seamless-immutable), [...array] should always return mutable array\nexport function cloneArray(array) {\n  if (!Array.isArray(array)) return [];\n  return [].concat(array);\n}\n\nexport function noop() {}\n\nexport function toString(value) {\n  if (typeof value === 'string') return value;\n  if (value === null || value === undefined) return '';\n  return value.toString ? value.toString() : '';\n}\n\nfunction getPathSegments(path) {\n  const pathArray = path.split('.');\n  const parts = [];\n\n  for (let i = 0; i < pathArray.length; i++) {\n    let p = pathArray[i];\n\n    while (p[p.length - 1] === '\\\\' && pathArray[i + 1] !== undefined) {\n      p = p.slice(0, -1) + '.';\n      p += pathArray[++i];\n    }\n\n    parts.push(p);\n  }\n\n  return parts;\n}\n\n// changed from https://github.com/sindresorhus/dot-prop/blob/master/index.js\nexport function getValue(object, path, defaultValue) {\n  if (object === null || typeof object !== 'object' || typeof path !== 'string') {\n    return defaultValue;\n  }\n\n  const pathArray = getPathSegments(path);\n\n  for (let i = 0; i < pathArray.length; i++) {\n    if (!Object.prototype.propertyIsEnumerable.call(object, pathArray[i])) {\n      return defaultValue;\n    }\n\n    object = object[pathArray[i]];\n\n    if (object === undefined || object === null) {\n      if (i !== pathArray.length - 1) {\n        return defaultValue;\n      }\n\n      break;\n    }\n  }\n\n  return object;\n}\n\n// copied from https://www.30secondsofcode.org/js/s/debounce\nexport const debounce = (fn, ms = 0) => {\n  let timeoutId;\n  return function(...args) {\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => fn.apply(this, args), ms);\n  };\n};\n\n// copied from https://www.30secondsofcode.org/js/s/throttle\nexport const throttle = (fn, wait) => {\n  let inThrottle, lastFn, lastTime;\n  return function() {\n    const context = this,\n      args = arguments;\n    if (!inThrottle) {\n      fn.apply(context, args);\n      lastTime = Date.now();\n      inThrottle = true;\n    } else {\n      clearTimeout(lastFn);\n      lastFn = setTimeout(function() {\n        if (Date.now() - lastTime >= wait) {\n          fn.apply(context, args);\n          lastTime = Date.now();\n        }\n      }, Math.max(wait - (Date.now() - lastTime), 0));\n    }\n  };\n};\n\n// copied from https://github.com/react-bootstrap/dom-helpers\nlet scrollbarSize;\nexport function getScrollbarSize(recalculate) {\n  if ((!scrollbarSize && scrollbarSize !== 0) || recalculate) {\n    if (typeof window !== 'undefined' && window.document && window.document.createElement) {\n      let scrollDiv = document.createElement('div');\n\n      scrollDiv.style.position = 'absolute';\n      scrollDiv.style.top = '-9999px';\n      scrollDiv.style.width = '50px';\n      scrollDiv.style.height = '50px';\n      scrollDiv.style.overflow = 'scroll';\n\n      document.body.appendChild(scrollDiv);\n      scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n      document.body.removeChild(scrollDiv);\n    }\n  }\n\n  return scrollbarSize;\n}\n\nexport function addClassName(el, className) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    if (!el.className.match(new RegExp(`(?:^|\\\\s)${className}(?!\\\\S)`))) {\n      el.className += ` ${className}`;\n    }\n  }\n}\n\nexport function removeClassName(el, className) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp(`(?:^|\\\\s)${className}(?!\\\\S)`, 'g'), '');\n  }\n}\n"],"file":"utils.js"}